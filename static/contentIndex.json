{"NixOS-on-Lenovo-Legion-5-(2021)":{"title":"NixOS on Lenovo Legion 5 (2021)","links":[],"tags":[],"content":"discrete graphics on in BIOS - NVIDIA\nadd the following to /etc/nixos/configuration.nix:\n  # Enable OpenGL\n  hardware.opengl = {\n    enable = true;\n    driSupport = true;\n    driSupport32Bit = true;\n  };\n \n  services.xserver.videoDrivers = [&quot;nvidia&quot;];\n  hardware.nvidia = {\n    nvidiaSettings = true;\n    forceFullCompositionPipeline = true;\n    package = config.boot.kernelPackages.nvidiaPackages.production;\n  };\n \nservices.xserver.dpi = 96;\n \nswitchable graphics on in BIOS - iGPU\n# https://discourse.nixos.org/t/eliminate-screen-tearing-with-intel-mesa/14724\nservices.xserver.videoDrivers = [ &quot;intel&quot; ];\n  services.xserver.deviceSection = &#039;&#039;\n    Option &quot;DRI&quot; &quot;2&quot;\n    Option &quot;TearFree&quot; &quot;true&quot;\n  &#039;&#039;;\nEverything else worked fine out of the box - Microphone, Webcam, Bluetooth, Sound, external ports"},"Qtile---make-workspaces-span-across-screens":{"title":"Qtile - make workspaces span across screens","links":[],"tags":[],"content":"linking groups - thinking\n\nhave different groups on different screens\nassign i to screen 1 and i+10 to screen 2\n\n\nuse mod + , to toggle between screens, when one screen disconnects\n\n\nwill have to check if screen 2 exists or not\n\ncode\n \n@lazy.function\ndef move_window_to_alternate_group(qtile):\n \n    group = int(qtile.current_group.name) \n    if group &lt; 10:\n        qtile.current_window.togroup(str(group + 10))\n    else:\n        qtile.current_window.togroup(str(group - 10))\n \nkeys.extend([Key([mod], &quot;comma&quot;, focus_group, desc=&quot;Next monitor&quot;),])\n \n \n@lazy.function\ndef focus_group(qtile):\n    group = int(qtile.current_group.name) \n \n    if len(qtile.screens) &gt; 1:\n        qtile.next_screen()\n    else:\n        group = int(qtile.current_group.name) \n        if group &lt; 10:\n            qtile.current_screen.toggle_group(str(group + 10))\n        else:\n            qtile.current_screen.toggle_group(str(group - 10))\n \n \n    # maybe works api\n    # qtile.current_group.switch_groups(&#039;9&#039;)\n    # ^ works but group object needs to be passed\n    # qtile.groups_map[&#039;1&#039;].to_screen()\n    # qtile.current_screen.set_group(&#039;11&#039;)\n \n \nkeys.extend([Key([mod , &quot;shift&quot;], &quot;comma&quot;, move_window_to_alternate_group, desc=&quot;Next monitor&quot;),])\n \n \n \ngroups = []\nfor i in range(0,20):\n    groups.append(Group(str(i)))\n \n \nfor i in range(0,10):\n    keys.extend(\n        [\n            # navigation \n            # lazy.group[group.name].toscreen(toggle=True),\n            Key([mod], str(i), lazy.group[str(i)].toscreen(0), lazy.group[&#039;1&#039; + str(i)].toscreen(1)),\n            # move window to group\n            # Key([mod, &quot;shift&quot;], group.name, lazy.window.togroup(group.name),\n            Key([mod, &quot;shift&quot;], str(i), lazy.window.togroup( &#039;1&#039; + str(i))),\n        ]\n    )\n \nreferences\nFeature request: allow windows from the same group to be present on multiple screens (i.e.allow groups to span screens) ¬∑ qtile/qtile ¬∑ Discussion #3035 ¬∑ GitHub\nI don‚Äôt imagine we will implement this internally as we prefer to keep things flexible and configurable enough for users to define their own specific behaviour. This use case is a good example of this as it‚Äôs already possible (with a bit of work!).\nMy first thought of how to implement it was slightly different than using the hooks - instead you could define your keybindings to directly modify pairs of groups so that they always are kept together. E.g.¬†mod+1¬†could move group A and B to the screens,¬†mod+2¬†would move groups C and D to the screens. Similarly¬†mod+shift+1¬†could move the current window to group A or B depending on whether it was on an odd numbered group (i.e. C, E) or even (i.e. D, F). From the keybindings point of view you are considering pairs of groups as a single workspace. If you use¬†GroupBox¬†you could make it only display groups A, C, E etc so that it gives you a consistent experience."},"about":{"title":"about","links":[],"tags":[],"content":"Software Engineer and Tech consultant\n\nGNU/Linux\nNixOS\nnix\npython\nneovim\nqtile\nrust\ngit\nollama\ntermux\n\nContact | GitHub"},"air-quality-monitor":{"title":"air quality monitor","links":[],"tags":[],"content":"hardware\n\nBuy Sensirion SEN54-SDN-T Environment Sensor for PM, VOC, NOx, RH &amp; T Online In India at HUBTRONICS.in\nBuy 6 Pin GHR-06V-S 1.25mm Board to Wire Connector - 15cm Wire Length Online In India at HUBTRONICS.in\nesp32\n\ncan buy locally as well\n\n\n\nsoftware\n\nInstall esphome\nflash this code:\n\nesphome:\n  name: air-quality-monitor\n  friendly_name: Air Quality Monitor\n \nesp32:\n  board: nodemcu-32s\n  framework:\n    type: arduino\n \n# Enable logging\nlogger:\n \n# Enable Home Assistant API\napi:\n  encryption:\n    key: &quot;retracted&quot;\n \nota:\n  password: &quot;retracted&quot;\n \n \nwifi:\n  networks:\n  - ssid: !secret wifi_ssid\n    password: !secret wifi_password\n  use_address: 192.168.1.23\n  # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: &quot;Air-Quality-Monitor&quot;\n    password: &quot;retracted&quot;\n \ncaptive_portal:\n    \n \nweb_server:\n  \n \ni2c:\n  sda: GPIO21\n  scl: GPIO22\n  scan: true\n  id: bus_a\n \nsensor:\n  - platform: sen5x\n    id: sen54\n    pm_1_0:\n      name: &quot; PM &lt;1¬µm Weight concentration&quot;\n      id: pm_1_0\n      accuracy_decimals: 1\n    pm_2_5:\n      name: &quot; PM &lt;2.5¬µm Weight concentration&quot;\n      id: pm_2_5\n      accuracy_decimals: 1\n    pm_4_0:\n      name: &quot; PM &lt;4¬µm Weight concentration&quot;\n      id: pm_4_0\n      accuracy_decimals: 1\n    pm_10_0:\n      name: &quot; PM &lt;10¬µm Weight concentration&quot;\n      id: pm_10_0\n      accuracy_decimals: 1\n    temperature:\n      name: &quot;Temperature&quot;\n      accuracy_decimals: 1\n    humidity:\n      name: &quot;Humidity&quot;\n      accuracy_decimals: 0\n    voc:\n      name: &quot;VOC&quot;\n      algorithm_tuning:\n        index_offset: 100\n        learning_time_offset_hours: 12\n        learning_time_gain_hours: 12\n        gating_max_duration_minutes: 180\n        std_initial: 50\n        gain_factor: 230\n    temperature_compensation:\n      offset: 0\n      normalized_offset_slope: 0\n      time_constant: 0\n    acceleration_mode: low\n    store_baseline: true\n    address: 0x69\n    update_interval: 10s\n\nyou should start seeing values on: 192.168.1.23\nto graph out values over time you\n\ncan install the Home Assistant server\nOnce you open home assistant you shoud see your device\nenter encryption key from esphome and it should work\n\n\n"},"index":{"title":"‚Äé","links":["air-quality-monitor","set-neovim-as-kitty's-scrollback-buffer","Qtile---make-workspaces-span-across-screens","kde-partition-manager-fiasco","NixOS-on-Lenovo-Legion-5-(2021)","resizing-boot-partition","setup-github-ssh"],"tags":[],"content":"\nair quality monitor\nset neovim as kitty‚Äôs scrollback buffer\nQtile - make workspaces span across screens\nkde partition manager fiasco‚Äé\nNixOS on Lenovo Legion 5 (2021)\nresizing boot partition\nsetup github ssh\n"},"kde-partition-manager-fiasco":{"title":"kde partition manager fiasco","links":["Kubuntu","NixOS"],"tags":[],"content":"\nwanted to shrink Kubuntu to make space for NixOS\nMaybe the drive was mounted\nbut still alot of the same issues were observed when searching online regarding kde partition manager\nultimate search term\n\nkde partition manager shrink size in superblock and physical size differ\n\n\nfilesystems - ‚ÄúEither the superblock or the partition table is likely to be corrupt!‚Äù after partition resized - Unix &amp; Linux Stack Exchange\n\nAccording to this answer ran e2fsck, a destructive operation just because I was afraid of the command line and didn‚Äôt want to use parted\nlong process\nresize2fs would‚Äôve deleted rest of the partitions\nslept\nseeked a better solution\nfilesystems - ‚ÄúEither the superblock or the partition table is likely to be corrupt!‚Äù after partition resized - Unix &amp; Linux Stack Exchange\n\nfound this using growpart to fill the unallocated space, atleast won‚Äôt have to delete nixos and windows reserved partitions\n\n\npartition - How to recover filesystem and physical size mismatch - Unix &amp; Linux Stack Exchange\n\nthen came across this solution to use parted\nbasically partition table via parted got updated but resize2fs failed to resize the filesystem\nsimple solution is to update the partition table to the original standard\nused sudo fdisk -l to read start and end sectors\nentered parted /dev/nvme0n1\nresizepart 4 859174911s\n\ngave sector number for perfect granuality\nParted - ArchWiki\n\n\n\n\n\n\nhad to e2fsck again\n\nthis reversed all the destructive changes that I made the day before\n\n\nKubuntu still wouldn‚Äôt boot\nfor some reason the files in /boot vanished\nbackup was there on desktop\ncopied those files from Desktop to /boot started working again\neven though the boot partition is mounted on /boot/efi, kubuntu had installed the files in /boot which is p4 and /boot/efi is on p1\nTo boot into kubuntu using the backup files, used this guide: Classic SysAdmin: How to Rescue a Non-booting GRUB 2 on Linux - Linux Foundation\n\ngrub&gt; set root=(hd0,1)\ngrub&gt; linux /boot/vmlinuz-3.13.0-29-generic root=/dev/sda1\ngrub&gt; initrd /boot/initrd.img-3.13.0-29-generic\ngrub&gt; boot\n\ncouldn‚Äôt run sudo update-grub\ndid sudo mkidr &lt;whatever had to be made&gt;\nran after that\non success, it will show that the vmlinuz and initrd images were found\nsudo grub install /dev/nvme0n1\nRan diff -r against backups to make sure there weren‚Äôt any destructive changes\nCompleted 2024-01-11\n"},"resizing-boot-partition":{"title":"resizing boot partition","links":["FAT32","GParted"],"tags":[],"content":"resizing manually due to FAT32 limitations and GParted lacks support for the same\nTIL: to backup a boot partition you just need to cp the files from the mounted boot partition to another folder. There is nothing special to backing up. You don‚Äôt even have to use dd.\nextra reading\nBug 649324 ‚Äì failure to move / resize fat32 partitions less than 256 MB in size\nWorkaround:  Resizing FAT16/FAT32 Partitions (less than 256 MB)\n\nBackup the data in the FAT16/FAT32 partition\nReformat the partition to EXT4\nResize EXT4 partition to desired partition size\nReformat the partition back to FAT16/FAT32\nRestore the FAT16/FAT32 files from backup\n\nNote that if you use file system labels you may wish to re-label the partition at this time.\nGparted gives problems with Fat32 - Unix &amp; Linux Stack Exchange\nFailure to move / resize fat32 partitions less than 256 MB in size / Newbie Corner / Arch Linux Forums\nlinux - Can‚Äôt resize /boot partition (fat32 / EFI system partition) - Unix &amp; Linux Stack Exchange\nSince this is the /boot partition containing your kernel, you‚Äôll need to make its new position known to the bootloader (usually GRUB) afterwards.\nThe exact commands depend on the distribution you‚Äôre using, but you‚Äôll usually boot a live CD/USB of your distro, mount your partitions in a chroot environment, and run grub-install /dev/&lt;your main disk&gt;.\nWith prior experience or a good tutorial, that‚Äôs done in five to ten minutes. ;)"},"rev/Calisthenics-+-HIIT":{"title":"Calisthenics + HIIT","links":[],"tags":[],"content":"strength training\nThe Recommended Routine\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRepsExerciseComments30sDeadbugs5-10Squat Sky ReachesYou can do these assisted.10+GMB Wrist PrepDo as many reps as you want5-10Yuri‚Äôs Shoulder Band WarmupLess good: Stick dislocates, can also be done with a tee-shirt10Arch HangsAdd these after you reach Negative Pullups. Beginner attempts will look more like this30sSupport HoldAdd these after you reach Negative Dips.10Easier Squat progressionAdd these after you reach Bulgarian Split Squats.10Easier Hinge progressionAdd these after you reach Banded Nordic Curls.\nFirst pair: Pull-Ups &amp; Squats\nPull-Ups, rest 90sec, Negative Pistol Squats, rest 90sec\nPull-Ups, rest 90sec, Squats, rest 90sec\nPull-Ups, rest 90sec, Squats, rest 90sec\n\nSecond pair Dips &amp; Hinge\nDips, rest 90sec, Hinge, rest 90sec\nDips, rest 90sec, Hinge, rest 90sec\nDips, rest 90sec, Hinge, rest 90sec\n\nThird pair: Rows &amp; Push-ups\nRows, rest 90sec, Push-ups, rest 90sec\nRows, rest 90sec, Push-ups, rest 90sec\nRows, rest 90sec, Push-ups, rest 90sec\n\nCore Triplet\nanti-extension, rest 60sec, anti-rotation, rest 60sec, extension, rest 60sec\nanti-extension, rest 60sec, anti-rotation, rest 60sec, extension, rest 60sec\nanti-extension, rest 60sec, anti-rotation, rest 60sec, extension, 5ever/until next workout day\n\nhiit\nbeginners_guide - hiit\n11 sets\n30 sec work\n30 sec rest\n\nwarm up - Jump ropes\nJump Ropes\nPull-Ups\nHigh Knees\nab workout\nScissor Lunges\nBurpees\nSquat Jumps\nDips\nTortoise hold\ncool down - Jump ropes\n"},"set-neovim-as-kitty's-scrollback-buffer":{"title":"set neovim as kitty's scrollback buffer","links":[],"tags":[],"content":"\nnvim pager for kitty history ¬∑ GitHub\n\nreturn function(INPUT_LINE_NUMBER, CURSOR_LINE, CURSOR_COLUMN)\n  print(&#039;kitty sent:&#039;, INPUT_LINE_NUMBER, CURSOR_LINE, CURSOR_COLUMN)\n \nlocal function setOptions()\n  vim.opt.encoding=&#039;utf-8&#039;\n  vim.opt.clipboard = &#039;unnamedplus&#039;\n  vim.opt.compatible = false\n  vim.opt.number = false\n  vim.opt.relativenumber = false\n  vim.opt.termguicolors = true\n  vim.opt.showmode = false\n  vim.opt.ruler = false\n  vim.opt.laststatus = 0\n  vim.o.cmdheight = 0\n  vim.opt.showcmd = false\n  vim.opt.scrollback = INPUT_LINE_NUMBER + CURSOR_LINE\nend\n -- Use pcall to execute setOptions and catch any errors\n local success, errorMessage = pcall(setOptions)\n \n -- If an error occurred, substitute INPUT_LINE_NUMBER, CURSOR_LINE, CURSOR_COLUMN with 0,0,0\n if not success then\n    -- print(&quot;Error setting options:&quot;, errorMessage)\n    INPUT_LINE_NUMBER, CURSOR_LINE, CURSOR_COLUMN = 0, 0, 0\n end\n  local term_buf = vim.api.nvim_create_buf(true, false);\n  local term_io = vim.api.nvim_open_term(term_buf, {})\n  vim.api.nvim_buf_set_keymap(term_buf, &#039;n&#039;, &#039;i&#039;, &#039;&lt;Cmd&gt;q&lt;CR&gt;&#039;, { })\n  vim.api.nvim_buf_set_keymap(term_buf, &#039;n&#039;, &#039;q&#039;, &#039;&lt;Nop&gt;&#039;, { })\n  -- vim.api.nvim_buf_set_keymap(term_buf, &#039;n&#039;, &#039;&lt;ESC&gt;&#039;, &#039;&lt;Cmd&gt;q&lt;CR&gt;&#039;, { })\n  local group = vim.api.nvim_create_augroup(&#039;kitty+page&#039;, {})\n \n  local setCursor = function()\n    vim.api.nvim_feedkeys(tostring(INPUT_LINE_NUMBER) .. [[ggzt]], &#039;n&#039;, true)\n    local line = vim.api.nvim_buf_line_count(term_buf)\n    if (CURSOR_LINE &lt;= line) then\n      line = CURSOR_LINE\n    end\n    vim.api.nvim_feedkeys(tostring(line - 1) .. [[j]], &#039;n&#039;, true)\n    vim.api.nvim_feedkeys([[0]], &#039;n&#039;, true)\n    vim.api.nvim_feedkeys(tostring(CURSOR_COLUMN - 1) .. [[l]], &#039;n&#039;, true)\n  end\n \n  vim.api.nvim_create_autocmd(&#039;ModeChanged&#039;, {\n    group = group,\n    buffer = term_buf,\n    callback = function()\n      local mode = vim.fn.mode()\n      if mode == &#039;t&#039; then\n        vim.cmd.stopinsert()\n      end\n    end,\n  })\n \n  vim.api.nvim_create_autocmd(&#039;VimEnter&#039;, {\n    group = group,\n    pattern = &#039;*&#039;,\n    once = true,\n    callback = function(ev)\n        local current_win = vim.fn.win_getid()\n        for _, line in ipairs(vim.api.nvim_buf_get_lines(ev.buf, 0, -2, false)) do\n          vim.api.nvim_chan_send(term_io, line)\n          vim.api.nvim_chan_send(term_io, &#039;\\r\\n&#039;)\n        end\n        for _, line in ipairs(vim.api.nvim_buf_get_lines(ev.buf, -2, -1, false)) do\n          vim.api.nvim_chan_send(term_io, line)\n        end\n        vim.api.nvim_win_set_buf(current_win, term_buf)\n        vim.api.nvim_buf_delete(ev.buf, { force = true } )\n        vim.schedule(setCursor)\n    end\n  })\nend\n\nGitHub - mikesmithgh/kitty-scrollback.nvim: üòΩ Open your Kitty scrollback buffer with Neovim. Ameowzing!\n\nto explore\n\nOverview - kitty\nkitty - The Blue Book\nGitHub - mikesmithgh/kitty-scrollback.nvim: üòΩ Open your Kitty scrollback buffer with Neovim. Ameowzing!\nFeature Request: Ability to select text with the keyboard (vim-like) ¬∑ Issue #719 ¬∑ kovidgoyal/kitty ¬∑ GitHub\nVi mode for kitty ¬∑ kovidgoyal/kitty ¬∑ Discussion #6485 ¬∑ GitHub\n[Question] How to use neovim (or vim) as scrollback pager? ¬∑ Issue #2327 ¬∑ kovidgoyal/kitty ¬∑ GitHub\nExcellent vi mode for kitty terminal : reddit\nVi mode for kitty ¬∑ kovidgoyal/kitty ¬∑ Discussion #6485 ¬∑ GitHub\nkitty vi mode, like alacritty ¬∑ kovidgoyal/kitty ¬∑ Discussion #3904 ¬∑ GitHub\n"},"setup-github-ssh":{"title":"setup github ssh","links":["BugsWriter"],"tags":[],"content":"\ngenerate key\n\nssh-keygen -t ed25519 -C &quot;your@email.com&quot;\ncat ~/.ssh/id_ed25519.pub\ncat ~/.ssh/id_ed25519.pub | xclip -sel c\n\n\ncopy key to github - https://github.com/settings/keys\n\n\nadd authentication keys and signing keys\n\n\nTesting your SSH connection\n\n\nssh -T git@github.com\n\nsigning your commits\n\ngit config --global gpg.format ssh\ngit config --global user.signingkey /PATH/TO/.SSH/KEY.PUB\nmake sure email id in ~/.gitconfig matches with your github account\ngit add index.html; git commit -S -m  &#039;signed commit with correct email&#039;\nextra reading\n\nPush to GitHub with Personal Access Token (PAT) - jdhao‚Äôs digital space\nGithub dominance in ‚ÄúSoy Tech Industry‚Äù vs Linux user - YouTube ~ BugsWriter\n"}}